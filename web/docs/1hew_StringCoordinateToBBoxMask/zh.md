# String Coordinate to BBox Mask - 文本框坐标生成遮罩

**节点功能：** `String Coordinate to BBox Mask` 解析包含边界框的文本字符串并生成二值遮罩。支持每帧合并输出或按框分别输出。

## 输入

| 参数名称 | 入端选择 | 数据类型 | 默认值 | 取值范围 | 描述 |
| -------- | -------- | -------- | ------ | -------- | ---- |
| `image` | - | IMAGE | - | - | 参考批次（`B×H×W×C`），用于确定输出尺寸 |
| `coordinates_string` | - | STRING | `` | 多行 | 每行包含边界框坐标；分隔符可为空格或逗号；括号 `[]()` 将被忽略。每行至少含四个数 `x1 y1 x2 y2` |
| `output_mode` | - | COMBO | `merge` | `separate` / `merge` | 输出策略：分别输出或合并为每帧统一遮罩 |

## 输出

| 输出名称 | 数据类型 | 描述 |
|---------|----------|------|
| `bbox_mask` | MASK | `merge`：形状为 `B×H×W`（每帧所有框的并集）；`separate`：形状为 `(B×N)×H×W`（每个框每帧一张遮罩） |

## 功能说明

- 健壮解析：移除括号，兼容逗号/空格分隔；将浮点转为整数。
- 边界收敛：坐标按图像尺寸收敛；满足 `x2>x1` 与 `y2>y1` 的区域填充为 1。
- 模式控制：按需选择合并或分别输出的遮罩形式。

## 典型用法

- 文本格式示例：每行 `12,34,200,180` 或 `12 34 200 180`。
- `merge` 用于获得统一区域遮罩；`separate` 用于逐框遮罩输出。

## 注意与建议

- 当无有效框时，输出形状为 `B×H×W` 的全零遮罩批次。