# Image Batch Range - 连续区间帧切片

**节点功能：** `Image Batch Range` 根据 `start_index` 与 `num_frame` 从图像批次中提取连续片段。当 `start_index ≥ 总帧数` 时输出为空批次；当 `num_frame` 超过从 `start_index` 开始的剩余数量时，仅返回剩余的帧数。

## 输入

| 参数名称 | 入端选择 | 数据类型 | 默认值 | 取值范围 | 描述 |
| -------- | -------- | -------- | ------ | -------- | ---- |
| `image` | - | IMAGE | - | - | 输入图像批次 |
| `start_index` | - | INT | 0 | 0-8192 | 起始帧索引；当 `start_index ≥ 总帧数` 时返回空批次。 |
| `num_frame` | - | INT | 1 | 1-8192 | 取帧数量；按 `总帧数 - start_index` 进行裁剪。 |

## 输出

| 输出名称 | 数据类型 | 描述 |
|---------|----------|------|
| `image` | IMAGE | 提取的连续帧片段；越界或剩余为 0 时为空批次 |

## 功能说明

- 边界安全：当 `start_index ≥ 总帧数` 时返回空批次；`num_frame` 按 `总帧数 - start_index` 裁剪。
- 异步切片：在工作线程执行切片避免阻塞。
- 空输出处理：当可取帧为 0 时，返回与输入类型/设备匹配的空批次。

## 典型用法

- 从序列中抽取场景片段：设置 `start_index=S`、`num_frame=N`。
- 组合多个区间以构建子片段或训练窗口。

## 注意与建议

- 当 `start_index ≥ 总帧数` 时，输出为空批次。
- 当 `num_frame > 总帧数 - start_index` 时，仅返回剩余帧数。
- 当 `总帧数 = 0` 时，输出为空批次。