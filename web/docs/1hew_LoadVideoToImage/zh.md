# Load Video to Image - 解码视频到图像与音频

**节点功能：** `Load Video to Image` 用于将选择的视频解码为图像帧批次、音频与 FPS 元数据。支持目录扫描、索引选择，并与 `Load Video` 保持一致的帧设置流程。

## 输入

| 参数名称 | 入端选择 | 数据类型 | 默认值 | 取值范围 | 描述 |
| -------- | -------- | -------- | ------ | -------- | ---- |
| `path` | - | STRING | `""` | - | 视频文件路径或目录路径。 |
| `frame_limit` | - | INT | `0` | 0-100000 | 输出帧数上限；`0` 表示保留设置后的全部帧。 |
| `fps` | - | FLOAT | `0.0` | 0-120 | 目标 FPS，用于重采样；`0` 表示沿用源 FPS。 |
| `start_skip` | - | INT | `0` | 0-100000 | 起始跳过帧数。 |
| `end_skip` | - | INT | `0` | 0-100000 | 末尾跳过帧数。 |
| `format` | - | COMBO | `4n+1` | `n` / `2n+1` / `4n+1` / `6n+1` / `8n+1` | 帧数格式约束，重采样后应用。 |
| `video_index` | - | INT | `0` | -8192-8192 | `path` 为目录时的视频索引；支持负数索引（按数量取模）。 |
| `include_subdir` | - | BOOLEAN | `false` | - | 目录扫描时包含子目录。 |

## 输出

| 输出名称 | 数据类型 | 描述 |
|---------|----------|------|
| `image` | IMAGE | 解码得到的帧批次。 |
| `audio` | AUDIO | 存在音频流时输出音频数据。 |
| `fps` | FLOAT | 应用重采样规则后的输出 FPS。 |
| `frame_count` | INT | `image` 的帧数量。 |

## 功能说明

- 直接解码：一次输出图像帧与音频，便于图像处理流程直接使用。
- 统一设置：依次应用跳帧、FPS 重采样、格式约束、帧数上限。
- Alpha 解码：在源流支持时优先解码为 RGBA。
- 目录工作流：稳定排序与索引选择适合数据集式访问视频片段。

## 典型用法

- 将视频解码为序列帧批次，经过处理后再连接 `Save Video by Image` 重新编码。
- 同时提取音频用于独立处理，图像帧用于视觉工作流。

## 注意与建议

- `fps` 输出代表当前配置下的有效帧率。

