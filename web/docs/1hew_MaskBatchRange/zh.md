# Mask Batch Range - 遮罩连续区间切片

**节点功能：** `Mask Batch Range` 根据 `start_index` 与 `num_frame` 从遮罩批次中提取连续片段。当 `start_index ≥ 总帧数` 时输出为空批次；当 `num_frame` 超过剩余数量时，仅返回剩余的遮罩帧数。

## 输入

| 参数名称 | 入端选择 | 数据类型 | 默认值 | 取值范围 | 描述 |
| -------- | -------- | -------- | ------ | -------- | ---- |
| `mask` | - | MASK | - | - | 输入遮罩批次 |
| `start_index` | - | INT | 0 | 0-8192 | 起始帧索引；当 `start_index ≥ 总帧数` 时返回空批次。 |
| `num_frame` | - | INT | 1 | 1-8192 | 取帧数量；按 `总帧数 - start_index` 进行裁剪。 |

## 输出

| 输出名称 | 数据类型 | 描述 |
|---------|----------|------|
| `mask` | MASK | 提取的遮罩连续片段；越界或剩余为 0 时为空批次 |

## 功能说明

- 边界安全：当 `start_index ≥ 总帧数` 时返回空批次；`num_frame` 按 `总帧数 - start_index` 裁剪。
- 异步切片：在工作线程执行切片，避免阻塞。
- 空输出处理：返回与输入类型/设备一致的空批次。

## 典型用法

- 将遮罩区间与图像区间对齐输出。

## 注意与建议

- 行为与 `Image Batch Range` 在张量层面保持一致。
- 当 `start_index ≥ 总帧数` 时为空；当 `num_frame > 总帧数 - start_index` 时仅返回剩余；当 `总帧数 = 0` 时为空。