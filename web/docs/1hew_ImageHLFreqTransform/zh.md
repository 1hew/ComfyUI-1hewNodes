# Image HL Freq Transform - 遮罩细节迁移

**节点功能：** `Image HL Freq Transform` 将 `detail_image` 的细节迁移到 `generate_image` 上，支持 `rgb`、`hsv`、`igbi` 分离方法，并可选用 `detail_mask` 控制细节应用区域。输出结果图及中间高/低频层。

## 输入

| 参数名称 | 入端选择 | 数据类型 | 默认值 | 取值范围 | 描述 |
| -------- | -------- | -------- | ------ | -------- | ---- |
| `generate_image` | - | IMAGE | - | - | 作为接收细节的基础图像 |
| `detail_image` | - | IMAGE | - | - | 提供细节的参考图像 |
| `detail_mask` | 可选 | MASK | - | - | 控制逐像素细节迁移；缺省时使用全白遮罩 |
| `method` | - | COMBO | `igbi` | `rgb` / `hsv` / `igbi` | 细节迁移的分离方法 |
| `blur_radius` | - | FLOAT | 10.0 | 0.0–100.0 | 高斯模糊半径；内部确保奇数且 ≥3 |

## 输出

| 输出名称 | 数据类型 | 描述 |
|---------|----------|------|
| `image` | IMAGE | 迁移细节后的结果图 |
| `high_freq` | IMAGE | 中间高频层。

## 典型用法

- 参考纹理迁移：将参考图的细腻纹理迁移到生成图上，同时保留生成图的低频色调。
- 遮罩修片：用 `detail_mask` 限定在皮肤、布料等选区进行细节增强。
- 方法选择：`hsv` 只迁移亮度细节，`rgb` 直接迁移对比细节，`igbi` 获得带色阶管理的风格化效果。

## 注意与建议

- 输入转换为 NumPy 以进行 OpenCV 操作；输出为 `[0,1]` 浮点格式。
- 增大 `blur_radius` 会扩大低频包络并弱化高频提取，适度选择以平衡细节与平滑度。