# Image Grid Split - 图片宫格分割器

**节点功能：** `Image Grid Split` 将图像按 `rows × columns` 宫格分割。你可以通过开启 `all` 输出所有子图，或者通过 `index` 选择每张图的特定子图。

## 输入

| 参数名称 | 入端选择 | 数据类型 | 默认值 | 取值范围 | 描述 |
| -------- | -------- | -------- | ------ | -------- | ---- |
| `image` | - | IMAGE | - | - | 输入图像批次 |
| `rows` | - | INT | 2 | 1–10 | 分割行数 |
| `columns` | - | INT | 2 | 1–10 | 分割列数 |
| `index` | - | INT | 0 | -100–100 | 输出索引，支持 Python 风格索引（如 0 为第一个，-1 为最后一个）。当 `all` 为 True 时此参数无效。 |
| `all` | - | BOOL | False | - | 是否输出所有子图。若为 True，则输出分割后的所有图片；若为 False，则仅输出由 `index` 指定的图片。 |

## 输出

| 名称 | 类型 | 描述 |
|------|------|-------------|
| `image` | IMAGE | 分割后的子图批次，或每张输入图像对应的选定子图。

## 特性

- 确定性分割：通过整数除法计算网格尺寸。
- 行优先排序：子图按先行后列的顺序排列。
- Python 风格索引：使用 `index` 选择子图（支持 0 为起始，支持负数索引）。
- 批次处理：开启 `all` 可堆叠输出所有子图；否则每张输入图仅返回一张选定子图。

## 典型用法

- Patch 推理：将大图拆分为网格子块以进行模型推理；设 `all=True` 输出全部。
- 定位子块：设 `all=False` 并指定 `index`，以获取每张图的特定区域。

## 注意与建议

- 为获得严格对齐，建议确保图像尺寸可被 `rows` 与 `columns` 整除；否则每轴末尾像素会因整数除法被舍去。
- RGBA 输入会在内部转换为 RGB 子图以统一形状。
