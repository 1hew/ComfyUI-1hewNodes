# Image Resize Jimeng - 即梦标准缩放器

**节点功能：** `Image Resize Jimeng` 专为将图像和遮罩调整为即梦（Jimeng）及其他生成模型常用的标准分辨率（1k、2k、4k、2.0 pro）而设计。它通过提供分辨率预设和基于输入宽高比的智能自动匹配，简化了工作流。

## 输入

| 参数名称 | 入端选择 | 数据类型 | 默认值 | 取值范围 | 描述 |
| -------- | -------- | -------- | ------ | -------- | ---- |
| `preset_size` | - | COMBO | `auto (2k \| 4k)` | `auto` / `1k` / `2k` / `4k` / `2.0_pro` 预设 | 目标分辨率预设。`auto` 模式会将输入宽高比匹配到最接近的标准分辨率。 |
| `fit` | - | COMBO | `crop` | `crop` / `pad` / `stretch` | 适应模式：决定图像如何适应目标分辨率。 |
| `pad_color` | - | STRING | `1.0` | 浮点数 / hex / rgb | 当 `fit` 设置为 `pad` 时使用的填充背景颜色。 |
| `image` | 可选 | IMAGE | - | - | 待缩放的输入图像批次。 |
| `mask` | 可选 | MASK | - | - | 待缩放的输入遮罩批次。 |

## 输出

| 输出名称 | 数据类型 | 描述 |
|---------|----------|------|
| `image` | IMAGE | 缩放后的图像批次。 |
| `mask` | MASK | 缩放后的遮罩批次。 |

## 功能说明

- **标准预设**：内置支持 1k、2k、4k 和 2.0 pro 分辨率标准，覆盖常用宽高比（21:9, 16:9, 3:2, 4:3, 1:1 等）。
- **自动匹配**：
  - `auto`：在所有预设中匹配最接近输入宽高比的分辨率。
  - `auto (1k | 2k)`：仅在 1k 和 2k 预设中进行匹配。
  - `auto (2k | 4k)`：仅在 2k 和 4k 预设中进行匹配。
- **适应模式**：
  - `crop`：保持比例并中心裁剪图像以填满目标分辨率。
  - `pad`：保持比例缩放图像以适应目标分辨率，并填充空白区域。
  - `stretch`：直接拉伸图像以完全匹配目标分辨率，不保持宽高比。
- **填充控制**：自定义 `pad_color` 支持（如 `1.0` 为白色，`0.0` 为黑色，或特定颜色代码），确保满足不同模型的需求。

## 典型用法

- **生成前处理**：选择如 `[2k] 2048x2048 (1:1)` 的具体预设，确保输入图像严格匹配模型的最佳训练分辨率。
- **批量处理**：使用 `auto` 模式处理一批具有不同宽高比的图像，自动将每张图像缩放到其最接近的标准等效尺寸。
