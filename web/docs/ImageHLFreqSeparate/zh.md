# Image HL Freq Separate - 高级频率分离

**节点功能：** `Image HL Freq Separate`节点实现高级频率分离技术，支持RGB、HSV、IGBI三种分离方法，可将图像分离为高频细节层和低频基础层。

## 输入

| 参数名称 | 入端选择 | 数据类型 | 默认值 | 取值范围 | 描述 |
| -------- | -------- | -------- | ------ | -------- | ---- |
| `image` | 必选 | IMAGE | - | - | 要进行频率分离的图像 |
| `method` | - | COMBO[STRING] | rgb | rgb, hsv, igbi | 分离方法：rgb(RGB空间)、hsv(HSV空间)、igbi(反转高斯混合) |
| `blur_radius` | - | FLOAT | 10.0 | 0.0-100.0 | 高斯模糊半径，控制分离的频率范围 |

## 输出

| 输出名称 | 数据类型 | 描述 |
|---------|----------|------|
| `high_freq` | IMAGE | 高频细节层图像 |
| `low_freq` | IMAGE | 低频基础层图像 |
| `combine` | IMAGE | 重组后的完整图像 |

## 功能说明

### 分离方法详解

#### RGB模式
- **低频层**：直接对原图进行高斯模糊
- **高频层**：基于灰度信息计算，使用公式 `(灰度图 - 模糊灰度图) / 255 + 0.5`
- **重组方式**：使用 Linear Light 混合模式 `2 * 高频 + 低频 - 1`
- **特点**：适用于一般图像处理，计算效率高

#### HSV模式
- **低频层**：对V通道进行高斯模糊，保持H、S通道不变
- **高频层**：V通道差值计算，使用公式 `(V通道 - 模糊V通道) / 255 + 0.5`
- **重组方式**：在HSV空间的V通道进行 Linear Light 混合
- **特点**：保持色相和饱和度，仅处理明度信息

#### IGBI模式（反转高斯混合再反转）
- **低频层**：直接对原图进行高斯模糊
- **高频层处理流程**：
  1. 图像反转 (255 - 原图)
  2. 原图高斯模糊
  3. 反转图像与模糊图像50%混合
  4. 再次反转得到高频层
- **重组方式**：65%高频 + 35%低频，然后应用色阶调整（黑点83，白点172）
- **特点**：提供最精确的细节分离效果